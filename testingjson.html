<!doctype html>
<html class="no-js" lang="en">
<head>
	<meta charset="utf-8">
  <title></title>
</head>  
<body>

<div id="posts"><ul></ul></div>
<!-- <div id="tumblr"></div>

<script id="template-news" type="text/template">
  {{#posts}}
    <h4>{{regular-title}}</h4>
    <p>{{url}}</p>
    <p>{{regular-body}}</p>
  {{/posts}}
</script> -->




<!--jQuery-->
<script src="//ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<!--Mustache-->
<script src="//cdnjs.cloudflare.com/ajax/libs/mustache.js/2.3.0/mustache.js"></script>

<script>
// $(function () {

//     $.getJSON('http://tumbbblr.tumblr.com/api/read/json', function (data) {
//         var template = $('#template-news').html();
//         var html = Mustache.to_html(template, data);
//         $('#tumblr').html(html);
//     })
// } );
	function loadPosts () {

        var key = "api_key=xBcVPLfdDKpH0GjMCd1whW7rPoYkzLgZD3ZwpzndISFI4huSpA";
        var api = "https://api.tumblr.com/v2/blog/only-text-posts.tumblr.com/";
        var retrieve_more = function (offset) {
            $.getJSON(api + "posts/text?callback=?&filter=text&limit=20&offset=" + offset + "&" + key,function(data) {
                $.each(data.response.posts, function(i, item) {
                    var content = item.body;
                    $("#posts ul").append('<li>' + content + '</li>')
                });

                if (data.response.posts.length == 20) {
                    retrieve_more(offset + 20);
                }
            });
        };

        retrieve_more(0);
    }

    loadPosts();
</script>
</body>
</html>
